# 01. 수업시간표 짜기 문제

당신이 학교에서 되도록 많은 수업을 듣고 싶어한다고 가정한다.
수업 시간이 일부 겹치기 때문에 모든 수업을 들을 수는 없다.
그럴 때는 사용하는 알고리즘은 아래와 같다.

- 가장 빨리 끝나는 과목을 고른다. 이 과목이 처음으로 신청할 과목이다.
- 첫 번째 과목이 끝난 후에 시작하는 과목을 고른다. 마찬가지로 가장 빨리 끝나는 과목을 고른다. 이 과목이 두 번째로 신청해야 할 과목이다.

간단하다는 것이 탐욕 알고리즘(greedy algorithm)의 장점이다.
기술적 용어로는 각 단계에서 국소 최적해(locally optimal solution)을 찾음으로써 최종적으로는 전역 최적해(globally optimal solution)를 구하게 된다고 한다.


# 02. 배낭채우기 문제

당신이 탐욕스러운 도둑이라고 가정한다.
훔친 물건을 넣을 배낭이 있다. 그 배낭에는 총 35파운드의 무게까지만 담을 수 있다.
당신은 배낭에 넣을 물건 가격의 합을 최대한 크게 하고자 한다.

탐욕 알고리즘을 사용하면 아래와 같이 간단하다.
- 가방에 들어갈 수 있는 물건 중에 가장 비싼 물건을 고른다.
- 그 다음으로 가방에 들어갈 수 있는 물건 중에 가장 비싼 것을 고른다. 이 일을 반복한다.

이 알고리즘은 제대로 동작하지 않는다.
예를 들어 아래와 같은 물건이 있다고 가정한다.
- 스테레오 / $3000 / 30파운드
- 노트북 / $2000 / 20파운드
- 기타 / $1500 / 15파운드

탐욕 알고리즘을 돌리면 스테레오 1개 밖에 넣을 수 없다. (가격 $3000)
하지만 스테레오 대신 노트북과 기타를 넣으면 총 가치는 $3500가 된다.


탐욕 알고리즘은 올바른 답을 내놓지 못했지만, 정답에 상당히 가까운 답이다. 당신이 진짜 쇼핑센터에서 물건을 훔치고 있는 도둑이라면 완벽한 답 같은 걸 신경쓰지는 않는다. 그냥 "정답에 상당히 가까운" 답이기만 해도 충분하다.


# 03. 집합 커버링 문제

당신이 라디오 쇼를 시작했다고 가정하자. 미국 50개 주에 있는 무든 사람에게 이 쇼를 들려주려고 한다. 하나의 방송국을 통해 청취할 수 있는 지역이 한정되어 있기 때문에 전국에 흩어져있는 라디오 방송국들을 방문해서 쇼를 진행해야 한다. 전국의 모든 사람이 최소한 한 번은 쇼를 들을 수 있도록 하면서 최소한 적은 수의 방송국을 돌려면 어떻게 해야할까?


- 가능한 모든 방송국의 부분 집합을 나열한다. 이것을 멱집합(power set)이라고 한다. 가능한 부분 집합의 수는 2^n개이다.
- 이 부분 집합 중에 50개 주 전체를 커버할 수 있으면서 가장 원소의 수가 적은 부분집합을 고른다.


문제는 가능한 모든 부분 집합을 계산하는데 시간이 많이 걸린다는 것이다. 부분 집합의 수가 2^n개 이기 때문에 O(2^n)시간이 걸린다. 예를 들어 초당 10개의 부분집합을 확인할 수 있다고 가정하면 방송국 갯수가 32개만 되더라도 실행시간에 13.6년이 걸린다.

이럴 때는 어떻게 문제를 풀어야 할까?
이럴 땐 탐욕 알고리즘을 사용하면 된다. 다음과 같은 탐욕 알고리즘은 거의 정답과 비슷한 답을 유추한다.

- 아직 방송하지 않은 지역 중 가장 많은 지역에 방송할 수 있는 방송국을 고른다. 이미 방송되고 있는 지역이 일부 포함되어 있어도 상관없다.
- 모든 주에 방송이 될 때까지 선택을 반복한다.

이것을 근사 알고리즘(approximation algorithm)이라고 한다.
근사 알고리즘의 성능은 다음 두 가지로 판단한다.
- 얼마나 빠른가
- 최적해에 얼마나 가까운가


# 04. NP-완전 문제

집합 커버링 문제를 풀기 위해서는 가능한 모든 집합을 계산해야 한다.
예를 들어 외판원 문제의 경우 도시가 6개이면 경로가 720개가 되고, 7개이면 경로는 5,040개, 8개이면 경로는 40,320개다. 이런 것을 팩토리얼 함수(factorial function)이라고 한다.


외판원 문제와 집합 커버링 문제에는 공통점이 있다. 모든 가능한 경우를 전부 따져서 최단/최소를 구해야 한다는 것이다. 이런 문제를 NP-완전문제(NP-complete problem)이라고 한다.


어떤 문제가 NP-완전 문제인지 알 수 있는 방법은?
답부터 말하자면 문제를 보고 NP-완전 문제인지 아닌지 알 수 있는 쉬운 방법은 존재하지 않는다. 다만 몇 가지 참고할만한 사항은 있다.
- 항목이 적을 때는 알고리즘이 빠른데, 항목이 늘어나면서 갑자기 느려진다.
- "X의 모든 조합"이라고 하면 보통 NP-완전 문제다.
- 더 작은 하위 문제로 변환할 수 없어서 X의 가능한 모든 버전을 계산해야 한다면 아마도 NP-완전 문제일 것이다.
- 문제가 수열(외판원 문제와 같은 도시의 순서같이)을 포함하고 풀기가 어려우면 NP-완전 문제일 수 있다.
- 문약 문제에 집합(라디오 방송국 집합처럼)이 있고 풀기가 어려우면 NP-완전 문제일 수 있다.
- 문제를 집합 커버링 문제나 외판원 문제로 재정의할 수 있다면 명백하게 NP-완전 문제다.
