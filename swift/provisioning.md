# inhouse 배포하기


인하우스 배포를 위해서는 여러가지 단계를 거쳐야 하는데
그중 하나가 provisioning 파일을 만드는 것이다.

1. 내 컴퓨터에서 인증서 생성

2. 생성한 인증서를 애플 개발자 사이트에 등록

3. 애플 개발자 사이트에서 번들아이디를 생성

4. 애플 개발자 사이트에서 프로비저닝 생성 (inhouse / ad hoc)
- 프로비저닝 파일을 생성할 때 중요한 점이 인증서를 선택하는 것임
- Development 와 Distribution 중에 하나를 선택해야 하는데, Distribution이 일반 배포용인 것으로 보임. 만약 로그를 봐야하는 개발 버전의 파일이라면 Development를 선택해서 프로비저닝을 발급받는 것이 좋아보임. (그냥 뭐든 간에 옵션이 있다면 Distribution으로 받는게 범용으로 좋지 않을까 했는데 숙련된 개발자의 말로는 왠지 삽질을 하게 될 것 같다며 자신이라면 테스트 목적의 앱이면 Development를 발급받겠다고 했다.)

5. 프로비저닝 파일을 내 PC로 다운로드

6. 더블클릭을 하면 Xcode에 자동으로 등록됨
- 더블클릭을 한다고 파일이 자동으로 연결되는 것은 아니고, 설정에서 번들 ID를 잘 입력해 줘야 함

7. Xcode project 설정에서 번들아이디와 프로비저닝 파일을 설정해줘야 함
- 번들ID를 똑같이 쓰고, 다운로드받은 프로비저닝 파일을 선택

------------- 이상 빌드 준비

8. 빌드 <- 빌드가 완료되면 끗
- 설치할 수 있는 형태의 실행파일이 만들어짐



나중에 내 핸드폰의 설정 > 기기관리에 들어가보면 내 폰에 설치된 프로비저닝 파일을 볼 수 있다. 앱 스토어에서 다운로드 받을 경우에는 프로비저닝이 필요 없지만, 다른 채널로 앱을 받을 경우에 신뢰할 수 있는 출처로부터 나왔다는 걸 인증하는 방식인 것 같다. 어둠의 경로로 앱을 만들어서 유툥할 수 없는 구조로 되어 있는 걸 알 수 있다.


회사 내 시스템으로 빌드를 하기 때문에 외부에 오픈되어있지 않은 사내용 github 계정에 커밋을 해야 했다.
기존 커밋 경로에 새로운 깃헙을 추가하기 위해서 터미널에서 설정을 해주었다. (git remote add)
